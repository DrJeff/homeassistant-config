################################################################
## Script / Presence
################################################################

################################################
## Arrival
################################################

arrival:
  sequence:
    - service: lock.unlock
      data:
        entity_id: !secret lock_front_door

    - service: light.turn_on
      data_template:
        entity_id:
          - light.entry_lamp
          - light.laundry_room
          - light.dining_room
          - light.garage
        brightness: "{{ states('sensor.global_brightness')|int }}"

    - service: script.front_porch_light

    - service: climate.set_hold_mode
      data:
        entity_id: climate.home
        hold_mode: 'home'

################################################
## Departure
################################################

departure:
  sequence:
    - service: lock.lock
      data:
        entity_id: !secret lock_front_door

    - service: light.turn_off
      data:
        entity_id: group.all_lights

    - service: script.front_porch_light

    - service: climate.set_hold_mode
      data:
        entity_id: climate.home
        hold_mode: 'away'
